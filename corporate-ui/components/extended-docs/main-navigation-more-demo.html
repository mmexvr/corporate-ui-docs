<!DOCTYPE html>

<html lang="en-GB" class="corporate-ui">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="utf-8">
  <noscript>
    <meta http-equiv="refresh" content="0;url=https://static.scania.com/vendors/components/pure-js/nonJS-browsers/1.0.0/nonJS-browsers.html">
  </noscript>

  <title>More items</title>

  <script src="https://static.scania.com/build/global/3.5.3/js/corporate-ui.js"></script>

</head>
<body class="scania ux-lib app light" ng-app="CorporateUI" ng-controller="App as app">

  <c-corporate-header site-name="Navigation" site-url="/" ng-attr-items="{{app.topItems}}">
    <nav-item location="https://www.scania.com/world/#/" text="World Entry"></nav-item>
    <nav-item location="https://www.scania.com/group/en/">Scania Group</nav-item>
  </c-corporate-header>

  <c-main-content>

    <!-- <c-main-navigation more-text="{{app.moreText}}" ng-attr-primary-items="{{app.primaryItems}}" ng-attr-secondary-items="{{app.secondaryItems}}"> -->
    <c-main-navigation more-text="{{app.moreText}}" items-data>
      <primary-items>
        <!-- <nav-item location="#/start" text="start"></nav-item> -->
      </primary-items>

      <secondary-items>
      </secondary-items>
    </c-main-navigation>

    <section class="light">
      <div class="container">
        <div class="row">
          <h2>Demo of Navigation</h2>
          <p>To understand the behaviour of the main navigation in different viewport widths, please re-size your browser window and observe how the primary nav items are re-located and placed on the More menu.</p>
          <p>To be able to switch the information of the items please look at the <strong>Source Code</strong>, by right clicking or ctrl + u</p>
          <p class="mb-1">This page contains <strong>How to:</strong></p>
          <ul>
              <li>Set primary and secondary items with angular</li>
              <li><strong>Switch</strong> between items in the menu, for example language</li>
              <li>Set <strong>Dropdown</strong></li>
              <li>See <strong>More</strong> is working by resizing</li>
              <li>Switch the more text with attribute <strong>more-text</strong> </li>
              <li>Set <Strong>Caption</Strong> on sub-navigation</li>
              <li>Set specific <Strong>order </Strong> by using <strong>index: -1</strong> for example</li>
            </ul>

          <button class="btn btn-primary ChangeMenuItemSE">Switch to Swedish menu</button>
        </div>
      </div>
    </section>

  </c-main-content>

  <c-corporate-footer>
    <nav-item location="#">Nav-item</nav-item>
  </c-corporate-footer>

  <script src="https://static.scania.com/vendors/frameworks/angular/1.5.5/angular.min.js"></script>

  <script>

    // Object for switching swedish lang in the menu primary.items
    var SeLangSEPrimary = [
      {"text":"Första","location":"#/", 'caption':'Första', "active":true,
      'items':[
          {"text":"Första Sub-item","location":"#/första"},
          {"text":"Andra Sub-item","location":"#/andra"},
          {"text":"Tredje Sub-item","location":"#/första"},
          {"text":"Andra Sub-item","location":"#/andra"}
        ]},
      {"text":"Andra","location":"#/", 'caption':'Andra', 'index': '-1',
        'items':[
          {"text":"Första Sub-item","location":"#/första"},
          {"text":"Andra Sub-item","location":"#/andra"},
          {"text":"Tredje Sub-item","location":"#/första"},
          {"text":"Andra Sub-item","location":"#/andra"}
        ]
      },
      {"text":"Tredje dropdown","location":" #/", 'caption':'Tredje', 'dropdown':'true','index':'-2',
        'items':[
          {"text":"Första dropdown-item","location":"#/första"},
          {"text":"Andra dropdown-item","location":"#/andra"},
          {"text":"Tredje dropdown-item","location":"#/tredje"},
          {"text":"Fjärde dropdown-item","location":"#/fjärde"}
        ]
      },
      {"text":"Fjärde","location":"#/"},
      {"text":"Femte","location":"#/"},
      {"text":"Sjätte","location":"#/"},
      {"text":"Sjunde","location":"#/"},
      {"text":"åtta","location":"#/"},
      {"text":"Nio","location":"#/"},
      {"text":"Tio","location":"#/"},
      {"text":"Elva","location":"#/"},
      {"text":"Tolv","location":"#/"},
      {"text":"Tretton","location":"#/"},
      {"text":"Fjorton","location":"#/"},
    ]
    // Object for switching swedish lang in the menu secondary.items
    var SeLangSeSecondary = [
      {"text":"Första","location":"#/", 'caption':'Första'},
      {"text":"Andra dropdown","location":" #/", 'caption':'Andra', 'dropdown':'true',
        'items':[
          {"text":"Första dropdown-item","location":"#/första"},
          {"text":"Andra dropdown-item","location":"#/andra"},
          {"text":"Tredje dropdown-item","location":"#/tredje"},
          {"text":"Fjärde dropdown-item","location":"#/fjärde"}
        ]
      }
    ]

    var ItemsSwitch;

    angular.module('CorporateUI', [])
      .value('ItemsSwitch', ItemsSwitch)
      .directive('itemsData', itemsData)
      .controller('App', ['ItemsSwitch', App]);


    // Initial the first items in the menu
    function App(ItemsSwitch) {
      this.moreText = 'More';
      console.log(this)

      // Items in the header
      this.topItems = [
        {
          text:'First', location:'#/First'
        }
      ];
      // items in the main-navigation and sub-navigation
      this.primaryItems = [
        {
          text:'First', location:'#/First', caption: 'First', active: true, classes: 'first-item',
          items:[
            { text:'First', location:'#/First/First', active: true },
            { text:'Second', location:'#/First/Second' },
            { text:'Third', location:'#/First/Third' },
            { text:'Fourth', location:'#/First/Fourth' },
            { text:'Fifth', location:'#/First/Fifth' },
            { text:'Sixth', location:'#/First/Sixth' }
          ]
        },
        {
          text:'Second', location:'', caption: 'Second', index: -2,
          items:[
            { text:'First', location:'#/Second/First' },
            { text:'Second', location:'#/Second/Second' },
            { text:'Third', location:'#/Second/Third' },
            { text:'Fourth', location:'#/Second/Fourth' },
            { text:'Fifth', location:'#/Second/Fifth' },
            { text:'Sixth', location:'#/Second/Sixth' },
            { template:'<c-fullscreen></c-fullscreen>' }
          ]
        },
        {
          text:'Third Dropdown', location:'#/Third', caption: 'Third', index: -1, dropdown: true,
          items:[
            { text:'First dropdown-item', location:'#/Third/First' },
            { text:'Second dropdown-item', location:'#/Third/Second' },
            { text:'Third dropdown-item', location:'#/Third/Third' },
            { text:'Fourth dropdown-item', location:'#/Third/Fourth' },
            { text:'Fifth dropdown-item', location:'#/Third/Fifth' },
            { text:'Sixth dropdown-item', location:'#/Third/Sixth' }
          ]
        },
        {
          text:'Fourth', location:'#/Fourth', caption: 'Fourth', index: 1,
          items:[
            { text:'First', location:'#/Fourth/First' },
            { text:'Second', location:'#/Fourth/Second' },
            { text:'Third', location:'#/Fourth/Third' },
            { text:'Fourth', location:'#/Fourth/Fourth' },
            { text:'Fifth', location:'#/Fourth/Fifth' },
            { text:'Sixth', location:'#/Fourth/Sixth' }
          ]
        },
        {
          text:'Fifth', location:'#/Fifth', caption: 'Fifth', props: {
            onclick: function(e) { console.log('Event triggered from prop on:', e.currentTarget) },
            className: 'some-class',
          },
          items:[
            { text:'First', location:'#/Fifth/First' },
            { text:'Second', location:'#/Fifth/Second' },
            { text:'Third', location:'#/Fifth/Third' },
            { text:'Fourth', location:'#/Fifth/Fourth' },
            { text:'Fifth', location:'#/Fifth/Fifth' },
            { text:'Sixth', location:'#/Fifth/Sixth' }
          ]
        },
        {
          text:'Sixth', location:'#/Sixth', caption: 'Sixth', attrs: {
            onclick: '(function(t) { console.log("Event triggered from attr on:", t) }(this))',
            class: 'some-class',
          },
          items:[
            { text:'First', location:'#/Sixth/First' },
            { text:'Second', location:'#/Sixth/Second' },
            { text:'Third', location:'#/Sixth/Third' },
            { text:'Fourth', location:'#/Sixth/Fourth' },
            { text:'Fifth', location:'#/Sixth/Fifth' },
            { text:'Sixth', location:'#/Sixth/Sixth' }
          ]
        },
        {
          text:'Seventh', location:'#/Seventh', caption: 'Seventh'
        },
        {
          text:'Eighth', location:'#/Eighth', caption: 'Eighth',
          items:[
            { text:'First', location:'#/Eighth/First' },
            { text:'Second', location:'#/Eighth/Second' },
            { text:'Third', location:'#/Eighth/Third' },
            { text:'Fourth', location:'#/Eighth/Fourth' },
            { text:'Fifth', location:'#/Eighth/Fifth' },
            { text:'Sixth', location:'#/Eighth/Sixth' }
          ]
        },
        {
          text:'Ninth', location:'#/Ninth', caption: 'Ninth'
        },
        {
          text:'Tenth', location:'#/Tenth', caption: 'Tenth'
        },
        {
          text:'Eleventh', location:'#/Eleventh', caption: 'Eleventh',
          items:[
            { text:'First', location:'#/Eleventh/First' },
            { text:'Second', location:'#/Eleventh/Second' },
            { text:'Third', location:'#/Eleventh/Third' },
            { text:'Fourth', location:'#/Eleventh/Fourth' },
            { text:'Fifth', location:'#/Eleventh/Fifth' },
            { text:'Sixth', location:'#/Eleventh/Sixth' }
          ]
        },
        {
          text:'Twelfth', location:'#/Twelfth', caption: 'Twelfth'
        },
        {
          text:'Thirteenth', location:'#/Thirteenth', caption: 'Thirteenth'
        },
        {
          text:'Fourteenth', location:'#/Fourteenth', caption: 'Fourteenth'
        },
        {
          text:'Fifteenth', location:'#/Fifteenth', caption: 'Fifteenth'
        },
        {
          text:'Sixteenth', location:'#/Sixteenth', caption: 'Sixteenth'
        },
        {
          text:'Seventeenth', location:'#/Seventeenth', caption: 'Seventeenth'
        },
        {
          text:'Eighteenth', location:'#/Eighteenth', caption: 'Eighteenth'
        },
        {
          text:'Nineteenth', location:'#/Nineteenth', caption: 'Nineteenth'
        }
      ];
      // Items in the secondary menu on the right
      this.secondaryItems = [
        {
          text:'First', location:'#/First'
        },
        {
          text:'Second Dropdown',
          items:[
            { text:'First', location:'#/end/First' },
            { text:'Second', location:'#/end/Second' },
            { text:'Third', location:'#/end/Third' },
            { text:'Fourth', location:'#/end/Fourth' },
            { text:'Fifth', location:'#/end/Fifth' },
            { text:'Sixth', location:'#/end/Sixth' }
          ]
        }
      ];

      this.ItemsSwitch = ItemsSwitch;
    }

    function itemsData() {
      return {
        restrict: 'A',
        link: function(scope, el, attrs) {
          el[0].primaryItems = scope.app.primaryItems;
          el[0].secondaryItems = scope.app.secondaryItems;
        }
      }
    }

    // Switching menu items - SE language and "More" menu text
    document.querySelector('section .ChangeMenuItemSE').onclick = function(e) {
      document.querySelector('c-main-navigation').primaryItems = SeLangSEPrimary;
      document.querySelector('c-main-navigation').secondaryItems = SeLangSeSecondary;
      document.querySelector('c-main-navigation').setAttribute('more-text','mer')
    }
  </script>
</body>
</html>
